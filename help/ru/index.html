<!DOCTYPE html><html lang="ru"><head><link rel="stylesheet" href="../main.css"><meta charset="UTF-8"><meta name="author" content="Irfan Latif"><meta name="viewport" content="width=device-width,initial-scale=1"><title>WhatsRunning — узнайте, что работает на вашем Android-устройстве</title><meta name="description" content="Нативные процессы &bull; Приложения Android &bull; Разбивка ОЗУ и swap &bull; Системные службы &bull; Службы приложения &bull; Scheduled jobs &bull; Автозапуск приложений &bull; Вейклоки &bull; Пожиратели батареи &bull; Отслеживание процессов &bull; Статистика батареи"><link rel="icon" type="image/x-icon" href="../favicon.ico"><link rel="canonical" href="https://mirfatif.github.io/WhatsRunning/help/en/"><meta name="google-site-verification" content="_qEuYBHxrTXj2skP4rK-qWY62bvzPBfFxaU-0rsHymU"></head><body><script src="../main.js"></script><div is="custom-div" data-custom-type="header-img" class="header"><img alt="banner" class="header" src="../en/img/banner.webp"></div><div class="content"><div is="custom-div" data-custom-type="langs-cont" class="langs-cont"><span id="lang-en">&nbsp;<a href="../en/">en</a></span> <span id="lang-ru">&nbsp;<a href="../ru/">ru</a></span></div><div class="card"><h2>Содержание</h2><hr><ul><li><a href="#intro" class="no-underline"><b>Что делает WhatsRuning?</b></a></li><li><a href="#proc-detail" class="no-underline"><b>Подробности процесса</b></a></li><li><a href="#more-detail" class="no-underline"><b>Подробнее</b></a><ul><li><a href="https://mirfatif.github.io/IAnswers/ram_swap_usage_android" class="no-underline">Сведения о памяти</a></li><li><a href="#app-services-detail" class="no-underline">Службы приложения</a></li><li><a href="#active-apps-detail" class="no-underline">Активные приложения</a></li><li><a href="#app-state-log-detail" class="no-underline">Журнал состояния приложения</a></li><li><a href="#alarm-detail" class="no-underline">Сигналы тревоги</a></li><li><a href="#sched-job-detail" class="no-underline">Запланированные задачи</a></li><li><a href="#auto-start-app-detail" class="no-underline">Автозапускающиеся приложения</a></li><li><a href="#wake-lock-detail" class="no-underline">Вэйклоки</a></li><li><a href="#wakeup-call-detail" class="no-underline">Вызовы пробуждения</a></li><li><a href="#battery-hog-detail" class="no-underline">Пожиратели батареи</a><ul><li><a href="#battery-watcher" class="no-underline">Отслеживание батареи</a></li></ul></li></ul></li><li><a href="#filter-sort-search" class="no-underline"><b>Фильтрация, сортировка и поиск</b></a></li><li><a href="#watcher" class="no-underline"><b>Отслеживание процессов</b></a></li><li><a href="#pmx-integration" class="no-underline"><b>Интеграция с PMX</b></a></li><li><a href="#adb-help" class="no-underline"><b>Использование WhatsRunning с ADB</b></a><ul><li><a href="#adb-limits" class="no-underline">Ограничения ADB</a></li><li><a href="#adb-help-10" class="no-underline">Android 10 и ниже</a></li><li><a href="#adb-help-11" class="no-underline">Андроид 11 и выше</a><ul><li><a href="#adb-pair-video">Видеоинструкция</a></li></ul></li></ul></li><li><a href="#versions" class="no-underline"><b>Версии WhatsRunning</b></a><ul><li><a href="#paid-features" class="no-underline">Платные функции</a></li></ul></li><li><a href="#faqs" class="no-underline"><b>Часто задаваемые вопросы (FAQ)</b></a><ul><li><a href="#faq1" class="no-underline">Почему WhatsRunning требует root или ADB доступ?</a></li><li><a href="#faq2" class="no-underline">Мое устройство без root. Как я могу использовать WhatsRunning?</a></li><li><a href="#faq3" class="no-underline">Почему WhatsRunning требует разрешение INTERNET?</a></li><li><a href="#faq4" class="no-underline">Насколько WhatsRunning безопасен для конфиденциальности?</a></li><li><a href="#faq6" class="no-underline">Что такое «Активити / Службы сироты?</a></li><li><a href="#faq5" class="no-underline">В чем разница между пунктами "Использование ЦП" и "Влияние на ЦП" в сортировке?</a></li><li><a href="#faq8" class="no-underline">Что показывают цифры ввод/вывод в подробностях процесса?</a></li><li><a href="#faq7" class="no-underline">Почему я вижу всплывающее уведомление «Процесс не существует»?</a></li></ul></li><li><a href="#download" class="no-underline"><b>Загрузки / Скриншоты</b></a></li><li><a href="#rate-review-help" class="no-underline"><b>Рейтинг и отзывы</b></a></li><li><a href="#contact-us" class="no-underline"><b>Связаться с нами</b></a></li></ul><h3><a href="https://mirfatif.github.io/IAnswers" class="no-underline">Больше FAQ</a></h3></div><div class="card"><h2 id="intro">Что делает WhatsRuning?</h2><hr><p>WhatsRunning показывает что работает на вашем устройстве, включая:</p><ul><li><p><b>Процессы</b></p><p>Почти всё о нативных процессах:</p><ul><li>PPID, PID, UID, GID, группы, количество дочерних процессов, количество тредов (потоков)</li><li>Контекст SELinux, Linux capabilities, CGroups</li><li>Использование ЦП, использование ОЗУ и SWAP</li><li>Приоритет ЦП, приоритет I/O, значение OOM kill</li><li>Командная строка, исполняемый путь, возраст, использование I/O (хранилища)</li></ul></li><li><p><b>Приложения Android</b></p><p>Подробная информация о фреймворке, системных и пользовательских приложениях:</p><ul><li>Название приложения, имя приложения, важность, последнее активное время</li><li>Имена задач (активити), рабочее состояние, последнее активное время</li><li>Имена служб приложений, типы, рабочее состояние, количество клиентов, время старта, последнее активное время</li><li>Службы init и фреймворк (если возможно)</li></ul></li><li><p><b>Использование памяти</b></p><ul><li>ОЗУ - всего, свободно и распределено</li><li>ОЗУ используемая активными приложениями, приложениями в кэш, процессами не относящимися к приложениям, ядром и ZRAM</li><li>Общее количество Swap, использование приложениями и процессами, не относящимися к приложениям</li></ul><p>Эти подробности, безусловно, прояснят некоторую путаницу, относительно управлению памятью в Android, которая могла возникнуть у вас ранее.</p><ul><li>Почему ваша ОЗУ всегда заполнена, даже когда вы не используете много приложений?</li><li>Процессы каких приложений не убиваются, даже если вы их не используете?</li><li>Что такое кешированные приложения и какие из них находятся в списке целей операционной системы Android, которые будут убитыми следующими?</li></ul></li><li><p><b>Системные службы</b></p><p>Службы Init (нативные) и фреймворк (Java), которые "вечно" работают.</p></li><li><p><b>Службы приложения</b></p><p>Фоновые (<a href="https://mirfatif.github.io/IAnswers/why_android_apps_run_in_background#app_bg_reason_bg_service_started">запущенные</a> и <a href="https://mirfatif.github.io/IAnswers/why_android_apps_run_in_background#app_bg_reason_bg_service_bound">связанные</a>), <a href="https://mirfatif.github.io/IAnswers/why_android_apps_run_in_background#app_bg_reason_fg_service">переднего плана</a> и постоянные службы, работающие внутри процессов приложения.</p></li><li><p><b>Активные приложения</b></p><p>Приложения, <a href="https://mirfatif.github.io/IAnswers/why_android_apps_run_in_background">активно работающие</a> в фоновом или режиме переднего плана, либо в <a href="https://mirfatif.github.io/IAnswers/find_cached_android_apps">кэшированном</a> состоянии.</p></li><li><p><b>Лог состояния приложения</b></p><p>Лог с временной меткой, показывающий, как приложения переключаются между активными и неактивными <a href="https://developer.android.com/guide/components/activities/process-lifecycle">состояниями</a>.</p></li><li><p><b>Задания по расписанию</b></p><p><a href="https://developer.android.com/training/scheduling/alarms">Сигналы тревоги</a>, которые могут неоднократно пробуждать устройство, и <a href="https://developer.android.com/reference/android/app/job/JobScheduler">запланированные задачи</a>, которые приложения выполняют в фоновом режиме.</p></li><li><p><b>Автозапускающиеся приложения</b></p><p>Приложения, которые запускаются при загрузке устройства.</p></li><li><p><b>Вэйклоки / Вызовы пробуждения</b></p><p>Приложения, которые <a href="https://developer.android.com/training/scheduling/wakelock">держали устройство в активном состоянии</a>. Также счетчик, показывающий, сколько раз приложение выводило устройство из спящего режима.</p></li><li><p><b>Пожиратели батареи</b></p><p>Список приложений, работающих на переднем плане и/или в фоне дольше остальных.</p></li><li><p><b>Состояние батареи</b></p><p>Служебное уведомление, показывающее текущее состояние батареи, включая уровень заряда батареи, температуру, скорость зарядки / разрядки, расчетное время, среднюю скорость разрядки с включенным / выключенным дисплеем и в режиме doze.</p><p>Смотрите <a href="https://mirfatif.github.io/WhatsRunning/#screenshots">скриншоты</a> для получения более подробной информации.</p></li><li><p><b>Состояние процесса</b></p><p>Служебное уведомление, показывающее количество работающих / "мертвых" процессов и "живых" системных / пользовательских приложений. Подробнее, смотрите <a href="#watcher">Отслеживание процессов</a>.</p></li></ul><p>Также смотрите GitHub <a href="https://mirfatif.github.io/WhatsRunning">README</a>.</p></div><div class="card"><h2 id="proc-detail">Подробности процесса</h2><hr><img alt="Подробности процессов Android" src="../en/img/proc_detail.webp"><ol><li>Имя процесса (командная строка)</li><li>PID</li><li>UID / GID</li><li>Использование ЦП</li><li>Использование ЦП / swap</li><li>Количество пакетов Android-приложений</li><li>Счетчик задач (активити) приложения</li><li>Счетчик служб приложения</li><li>Возраст процесса</li></ol><p>Более подробные сведения смотрите <a href="https://mirfatif.github.io/WhatsRunning/#screenshots">на скриншотах</a>.</p></div><div class="card"><h2 id="more-detail">Подробнее</h2><hr><p><b>Сведения о памяти</b></p><p>Пожалуйста, ознакомьтесь с подробностями <a href="https://mirfatif.github.io/IAnswers/ram_swap_usage_android">здесь</a>.</p><hr class="dim"><p id="app-services-detail"><b>Службы приложения</b></p><img alt="Подробности служб приложений" src="../en/img/app_service_detail.webp"><ol><li>Название приложения</li><li>Имя службы</li><li>Тип службы: фоновый, переднего плана, системная, постоянная и т. д.</li><li>Нет. клиентские приложения привязаны к службе</li><li>Когда служба была запущена</li><li>Когда служба была активной в последний раз</li><li>UID приложения</li><li>Состояние приложения: <font color="#90EE90">работает</font> или <font color="#FF0000">остановлено</font></li></ol><hr class="dim"><p id="active-apps-detail"><b>Активные приложения</b></p><img alt="Подробности активных приложений" src="../en/img/active_apps_detail.webp"><ol><li>Название приложения</li><li>Количество активити (экраны) и служб, работающих в приложении</li><li>Важность приложения</li><li>Когда приложение запустилось</li><li>Когда приложение было активным в последний раз</li><li>UID приложения</li><li>Состояние приложения: <font color="#90EE90">очень активное</font>, <font color="#FFC107">менее активное</font>или <font color="#FF0000">неактивное</font></li><li>Оценка уничтожения — вероятность закрытия приложения, когда устройству необходимо освободить оперативную память</li></ol><hr class="dim"><p id="app-state-log-detail"><b>Лог состояния приложения</b></p><img alt="Подробности лога состояния приложений" src="../en/img/app_state_log_detail.webp"><ol><li>Название приложения</li><li>Временная метка - когда приложение изменило свое состояние</li><li>Новое состояние (пакета приложения)</li><li>Новое состояние (UID приложения)</li><li>UID приложения</li><li>PID процесса приложения</li></ol><p><b>Сводка</b></p><p>Сводное представление показывает, сколько раз приложение переключалось в состояние с тех пор, как был включен сбор лога состояния приложения.</p><img alt="Подробный лог состояния приложений" src="../en/img/app_state_log_summary.webp"><ol><li>Название приложения</li><li>Новое состояние</li><li>UID приложения</li><li>Количество</li></ol><p>На скриншоте видно, что приложение Telegram переключалось в состояние «служба переднего плана/активное состояние» 41 раз, в то время как Firefox открывался (переключался в состояние «Фон») 35 раз.</p><hr class="dim"><p id="alarm-detail"><b>Сигналы тревоги</b></p><img alt="Подробности сигналов андроид" src="../en/img/alarm_detail.webp"><ol><li>Название приложения</li><li>Если сигнал будит устройство</li><li>Когда срабатывают сигналы</li></ol><hr class="dim"><p id="sched-job-detail"><b>Запланированные задачи</b></p><img alt="Запланированные задачи Android" src="../en/img/sched_job_detail.webp"><ol><li>Название приложения</li><li>UID</li><li>Имя службы задачи</li><li>Условия, которые должны быть выполнены перед запуском задачи</li></ol><hr class="dim"><p id="auto-start-app-detail"><b>Автозапускающиеся приложения</b></p><img alt="Автозапуск приложений android" src="../en/img/auto_start_app_detail.webp"><ol><li>Название приложения</li><li>Имя ресивера(ов)</li><li>UID</li></ol><hr class="dim"><p id="wake-lock-detail"><b>Вэйклоки</b></p><img alt="Вэйклоки android" src="../en/img/wake_lock_detail.webp"> <img alt="Вэйклоки ядра android" src="../en/img/kernel_wake_lock_detail.webp"><ol><li>Название приложения</li><li>UID</li><li>Имя вэйклока</li><li>Длительность ( т.е. длительность удержания вэйклока)</li><li>Счетчик (сколько раз вэйклок удерживался)</li></ol><hr class="dim"><p id="wakeup-call-detail"><b>Вызовы пробуждения</b></p><img alt="Вызов пробуждения в Android" src="../en/img/wakeup_call_detail.webp"><ol><li>Название приложения</li><li>UID</li><li>Имя сигнала, который будит устройство</li><li>Имя пакета</li><li>Количество вэйклоков</li></ol><hr class="dim"><p id="battery-hog-detail"><b>Пожиратели батареи</b></p><img alt="Пожиратели батареи android" src="../en/img/battery_hog_detail.webp"><ol><li>Название приложения</li><li>UID</li><li>Использование ЦП и сети</li><li>Продолжительность активного использования приложений</li><li>Продолжительность активити приложений на переднем плане (высокий приоритет) и в фоновом режиме (низкий приоритет)</li><li>Общая продолжительность работы запущенных служб</li><li>Количество запущенных служб</li><li>Запущенная служба (отображается только в том случае, если включено в раскрывающемся меню)</li><li>Название приложения</li><li>Имя службы</li><li>Общая продолжительность работы запущенных служб</li><li>Счётчик запусков службы</li></ol><p id="battery-watcher">Служба <b>Отслеживание батареи</b> показывает постоянное уведомление со статистикой батареи:</p><img alt="Отслеживание батареи Android" src="../en/img/battery_watcher_notif.webp"><ol><li>Разряд батареи или скорость заряда; температуру; уровень; и расчетное время (до полной разрядки или полной зарядки)</li><li>Сколько времени устройство работает от батареи из общего времени</li><li>Время работы от батареи при включенном экране; процент падения заряда батареи в час</li><li>Время работы от батареи при выключенном экране; процент падения заряда батареи в час</li><li>Время работы от батареи, когда устройство было в режиме <a href="https://source.android.com/docs/core/power/platform_mgmt#doze">doze</a></li><li>Среднее время работы от батареи на процент падения заряда батареи</li><li>Среднее использование сети на процент падения заряда батареи</li></ol><p>Статистику батареи можно сбросить в правом верхнем меню экрана Пожиратели батареи.</p></div><div class="card"><h2 id="filter-sort-search">Фильтрация, сортировка и поиск</h2><hr><p>Вы можете отфильтровать не интересующие вас процессы и приложения.</p><img alt="Фильтр процессов WhatsRunning" class="medium" src="../en/img/proc_filter.webp"><p>Есть большой список ключевых слов, которые вы можете использовать для поиска конкретных вещей в интересующем вас списке.</p><img alt="WhatsRunning поиск" class="medium" src="../en/img/search.webp"><p>А еще более длинный список параметров можно применить к сортировке списка процессов.</p><img alt="Процесс сортировки WhatsRunning" class="medium" src="../en/img/proc_sort_by.webp"><ul><li><b>Тип</b>: типы, определенные в фильтрах процессов. Смотрите скриншот выше.</li><li><b>Память</b>: ОЗУ</li><li><b>Использование ЦП</b> / <b>Влияние на ЦП</b>: Пожалуйста, посмотрите <a href="#faq5">В чем разница между "Использованием ЦП" и "Влиянием на ЦП"?</a></li><li><b>I/O</b>: Данные считанные из хранилища и записанные в хранилище. См. <a href="https://man7.org/linux/man-pages/man5/proc.5.html">proc(5)</a>.</li><li><b>PPID</b> / <b>PID</b> / <b>UID</b> / <b>Age</b>: Идентификатор родительского процесса, идентификатор процесса, идентификатор пользователя UNIX и возраст собственного процесса Linux. См. <a href="https://man7.org/linux/man-pages/man5/proc.5.html">proc(5)</a>.</li><li><b>Пакеты</b> / <b>Активити</b> / <b>Службы</b>: Количество приложений, их видимые задачи и службы, работающие внутри родного процесса.</li></ul></div><div class="card"><h2 id="watcher">Отслеживание процессов</h2><hr><p>Вы когда-нибудь задумывались:</p><ul><li><p>Какие приложения не спят, когда вы спите? И они продолжают запускаться и умирать, и делать свою работу без вашего ведома? Когда они запускаются, какие компоненты они используют, как долго они работают, сколько ресурсов они используют и когда они умирают?</p></li><li><p>Или какое приложение или процесс на вашем устройстве, неадекатно себя ведут, останавливается и запускается снова и снова, тратя впустую заряд батареи и другие ресурсы? Сколько раз они перезапускались за последние 24 часа?</p></li><li><p>Или какой процесс выглядит как чужак, вредоносное ПО, угроза вашей конфиденциальности?</p></li></ul><p>Функция Отслеживание процессов – это единственный и простой ответ на все эти вопросы. С вашего согласия она продолжает работать в фоновом режиме, непрерывно наблюдая за процессами. Уведомление постоянно показывает краткую сводку жизни и смерти процессов.</p><img alt="Отслеживание процессов android" class="medium" src="../en/img/watcher.webp"><p>Вы нажимаете на уведомление или пункт меню «Показать данные отслеживания», чтобы увидеть, какие процессы были запущены и остановлены с момента запуска отслеживания. Просто!</p><img alt="WhatsRunning меню" class="medium" src="../en/img/show_watcher_data.webp"><p>Используйте пункты меню, чтобы увидеть список всех процессов или процессов с некоторыми изменениями в их состоянии.</p><img alt="WhatsRunning меню" class="medium" src="../en/img/show_all_processes.webp"> <img alt="WhatsRunning меню" class="medium" src="../en/img/show_changed_processes.webp"><p>Поле PID показывает, сколько раз процесс создавался заново с момента запуска отслеживания.</p><img alt="Воссоздающие процессы android" class="medium" src="../en/img/recreated.webp"><p>В этом режиме вместо мгновенных значений показывается среднее потребление ресурсов (ЦП, ОЗУ и т.д.) для каждого процесса.</p><hr class="dim"><p><b>Обратите внимание, что</b> из-за ограничения обычных устройств Android функция Отслеживание процессоа не является средством отслеживания процессов Linux в реальном времени. Так что очень короткоживущие процессы могут пропускаться. Если вас интересуют технические подробности, прочтите эту замечательную статью: <a href="https://natanyellin.com/posts/tracking-running-processes-on-linux/">The Difficulties of Tracking Running Processes on Linux</a>.</p></div><div class="card"><h2 id="pmx-integration">Интеграция с PMX</h2><hr><p>PMX интегрирован с <a href="https://github.com/mirfatif/PermissionManagerX">WhatsRunning</a>, так что вы можете открывать одно приложение из другого.</p><img alt="WhatsRunning PMX интеграция" class="medium" src="../en/img/pmx_integration1.jpg"> <img alt="WhatsRunning PMX интеграция" class="medium" src="../en/img/pmx_integration2.jpg"><p>Точно так же из WhatsRunning вы можете переключиться на PMX, чтобы узнать, какие разрешения предоставлены работающему (или неработающему) приложению.</p><p>Таким образом, из PMX вы можете переключиться на WhatsRunning, чтобы узнать, работает ли еще приложение с ограниченными разрешениями. Если да, то в каком состоянии он находится и сколько ресурсов использует.</p><p>Это особенно полезно при анализе эффекта таких разрешений, как <code>RUN_IN_BACKGROUND</code>.</p></div><div class="card"><h2 id="adb-help">Использование WhatsRunning с ADB</h2><hr><h3 class="high-top" id="adb-limits">Ограничения ADB</h3><p>Режим ADB не такой мощный, как root. В нашем случае, например, WhatsRunning потребуется больше времени для построения списка приложений, когда он работает с ADB.</p><p>Примечание: На некоторых OEM прошивках функциональность ADB может быть нарушена из-за отсутствия разрешений или других ограничений. Вы можете проверить текущий статус того, что может делать ADB, нажав пункт меню <b>О приложении</b> -> <b>Привилегии</b>:</p><img alt="Привилегии WhatsRunning" class="medium" src="../en/img/privs.webp"><p>К сожалению, мы не можем ничего сделать с этим. Поэтому некоторые функции доступны только на устройствах с root.</p><p>В частности, следующая информация доступна только на устройствах с root-доступом:</p><ul><li>I/O процесса (ввод/вывод) размер и приоритет I/O</li><li>Размер ZRAM и подробности использования (swap)</li><li>(Исполняемый) путь <code>exe</code> процесса</li></ul><p>Однако некоторые OEM-производители добавляют дополнительные настройки для управления привилегиями ADB. Например, вам нужно снять флажок "<i>Отключить Мониторинг разрешений</i>" на телефонах Oppo и "<i>Разрешить предоставление разрешений</i>" в настройках безопасности на телефонах Xiaomi. Смотрите <a href="https://stackoverflow.com/q/52079343/9165920">этот вопрос</a> для более детальной информации.</p><p>Следующие инструкции относятся к прошивкам, близким к AOSP. Кастомные прошивки могут иметь другие или отсутствующие настройки.</p><hr class="dim"><h3 class="high-top" id="adb-help-10">Android 10 и ниже</h3><p>Итак, мы начинаем с того, как заставить WhatsRunning работать с ADB.</p><p>Если ваше устройство без root, вам необходимо включить <b>ADB по сети</b> перед использованием WhatsRunning. В некоторых устройствах есть пункты <b><i>ADB по сети</i></b> или <b><i>Отладка по Wi-Fi</i></b>, которые доступны в настройке <b>Для разработчиков</b>:</p><img alt="Опции разработчика ADB" class="medium" src="../en/img/adb_in_dev_options_1.webp"><p>Если у вас нет этих настроек на вашем устройстве, необходимо один раз подключить устройство к USB-хосту, например ПК <b><i>после каждой перезагрузки</i></b>.</p><p class="high-top"><b><u>Показать экран настроек разработчика:</u></b></p><ol><li><p>Перейдите в <b>Настройки</b> -> <b>О телефоне</b> и нажмите <b>Номер сборки</b> 5-7 раз.</p><p>Пункт <b>Для разработчиков</b> должен появиться непосредственно в разделе <b>Настройки</b> или в разделе <b>Настройки</b> -> <b>Система</b>, внизу.</p></li></ol><p class="high-top"><b><u>Включение беспроводной отладки:</u></b></p><ol start="2"><li><p>Включите <b>Отладку по USB</b> в настройках <b>Для разработчиков</b>.</p></li><li><p>Подключите телефон к ПК с помощью кабеля USB.</p></li><li><p>На ПК откройте окно терминала (или командную строку в Windows) и выполните:</p><p><code>adb tcpip 5555</code></p><p>На вашем ПК должен быть доступен исполняемый файл <code>adb</code>, чтобы выполнить указанную выше команду. Если его нет, то вот <a href="https://developer.android.com/studio/releases/platform-tools#downloads">ссылка для загрузки</a>.</p></li></ol><p class="high-top"><b><u>Дополнительные шаги для верификации:</u></b></p><ol start="5"><li><p>Отсоедините USB-кабель от устройства.</p></li><li><p>Подключите ваше устройство и ПК к общей сети Wi-Fi.</p></li><li><p>Получите IP адрес устройства (обычно в настройках WiFi или в <b>Настройки</b> -> <b>О</b>), это <code>192. 68.1.1</code>.</p></li><li><p>Выполните на ПК:</p><p><code>adb connect 192.168.1.1</code></p></li><li><p>Выполните еще раз:</p><p><code>adb shell id -u</code></p><p>Терминал должен напечатать <code>2000</code> (или <code>0</code>).</p></li></ol><p class="high-top"><b><u>Подключение WhatsRunning к ADB:</u></b></p><ol start="10"><li><p>Запустите WhatsRunning и отметьте <b><i>ADB Shell</i></b> в выдвижном меню. Введите порт <code>5555</code> и нажмите подключение.</p><img alt="Опции разработчика ADB" class="medium" src="../en/img/adb_in_dev_options_2.webp"></li><li><p><i>Разрешите отладку по USB</i> при запросе.</p><img alt="Опции разработчика ADB" class="medium" src="../en/img/adb_in_dev_options_3.webp"></li></ol><p>Оставьте отладку <b>Отладку по USB</b> включенной.</p><p>Для получения дополнительной информации смотрите <a href="https://developer.android.com/studio/command-line/adb#wireless">это</a>.</p><hr class="dim"><h3 class="high-top" id="adb-help-11">Андроид 11 и выше</h3><p>На Android 11 и выше можно включить беспроводную отладку/отладку по Wi-Fi без подключения к компьютеру.</p><ol><li><p>Подключите ваше устройство к сети Wi-Fi.</p></li><li><p>Откройте WhatsRunning и настройку "Для разработчиков" в режиме <a href="https://developer.android.com/guide/topics/large-screens/multi-window-support#split-screen_mode_activation">Разделенный экран</a>. См. инструкции выше, как открыть опции разработчика.</p></li><li><p>Включите <b><i>Беспроводную отладку/отладку по Wi-Fi</i></b> и отключите <b><i>Время ожидания авторизации ADB</i></b> в настройках "Для разработчиков". Последнее гарантирует, что вам не придется повторять следующие два шага (сопряжение) снова и снова.</p><img alt="Беспроводный ADB Android 11" class="medium" src="../en/img/adb_in_dev_options_11_1.webp"></li><li><p>Откройте <b><i>Беспроводную отладку/отладку по Wi-Fi</i></b> и нажмите на <i>"Соединить устройство с кодом сопряжения"</i>. Обратите внимание на <b><i>код подключения</i></b> и <b><i>номер порта</i></b>.</p></li><li><p>В WhatsRunning отметьте <b><i>ADB Shell</i></b> в выдвижном меню, введите оба параметра в отображаемых полях и нажмите "сопряжение".</p><img alt="Беспроводный ADB Android 11" class="medium" src="../en/img/adb_in_dev_options_11_2.webp"></li><li><p>После успешного сопряжения пришло время подключиться. Введите новый <b><i>номер порта</i></b> из беспроводной отладки в отображаемом поле и нажмите "Подключить".</p><img alt="Беспроводный ADB Android 11" class="medium" src="../en/img/adb_in_dev_options_11_3.webp"></li></ol><p>Теперь вы можете оставить включенной <b><i>Беспроводную отладку</i></b>. Или лучше отключить его и оставить включенной <b><i>USB-отладку</i></b>.</p><p>Если вы полностью отключите отладку в настройке "Для разработчиков", или после каждой перезагрузки, вам нужно будет повторить последний шаг.</p><p>Для получения дополнительной информации смотрите <a href="https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi-android-11+">это</a>.</p><hr class="dim"><p id="adb-pair-video">Вот 1 минутное видео-руководство:</p><video class="medium" controls autoplay muted loop><source src="img/adb_pairing.mp4" type="video/webm">ADB pairing</video></div><div class="card"><h2 id="versions">Версии WhatsRunning</h2><hr><p>WhatsRunning доступно в двух вариантах: <b>Free</b> и <b>Pro</b> версии. Оба варианта доступны в виде релизов в Play Store и GitHub/Telegram. Все четыре варианта имеют разные названия пакетов, поэтому могут быть установлены одновременно.</p><h3 id="paid-features">Платные функции</h3><ul><li>Подробности использования ОЗУ:<ul><li>ОЗУ всего, свободно, распределено</li><li>ОЗУ используемая активными приложениями, приложениями в кэш, процессами не относящимися к приложениям, ядром и ZRAM</li><li>Общее количество Swap, использование приложениями и процессами, не относящимися к приложениям</li></ul></li><li>Подробности процесса:<ul><li>PPID, PID, UID, GID, группы, количество дочерних процессов, количество тредов (потоков)</li><li>Контекст SELinux, Linux capabilities, CGroups</li><li>Использование ЦП, использование ОЗУ и SWAP</li><li>Приоритет ЦП, приоритет I/O, значение OOM kill</li><li>Исполняемый путь, возраст, использование I/O</li><li>Имя приложения, важность, последнее активное время</li><li>Имена задач (активити), рабочее состояние, последнее активное время</li><li>Имена служб приложений, типы, рабочий статус, номер клиентов, время старта, последнее активное время</li><li>Службы init и фреймворк (если возможно)</li></ul></li><li>Полный список:<ul><li>Системных служб; init и фреймворк</li><li>Службы приложения</li><li>Активные приложения</li><li>Лог состояния приложения</li><li>Сигналы тревоги и запланированные задачи</li><li>Автозапуск приложений</li><li>Вэйклоки и вызовы пробуждения</li><li>Приложения, потребляющие заряд батареи</li></ul></li></ul><p>Смотрите <a href="https://mirfatif.github.io/WhatsRunning/#screenshots">скриншоты</a> для получения более подробной информации.</p></div><div class="card"><h2 id="faqs">Часто задаваемые вопросы (FAQ)</h2><hr><p id="faq1" class="high-bottom"><b>Почему WhatsRunning требует root или ADB доступ?</b></p><p>Android не позволяет обычному пользовательскому приложению считывать информацию о процессах других приложений, даже не полностью своих собственных.</p><p>Поэтому мы запускаем отдельный демон с высокими привилегиями для того, чтобы обойти ограничения.</p><p>По умолчанию, фоновый процесс (демон) запускается с ADB UID (<code>2000</code>) или (если есть root) системным UID (<code>1000</code>). На устройствах с ROOT UID можно изменить в <b><i>Дополнительных настройках</i></b>.</p><hr class="dim"><p id="faq2" class="high-bottom"><b>Мое устройство без root. Как я могу использовать WhatsRunning?</b></p><p><a href="#adb-help">Использование ADB</a>. Пожалуйста, прочитайте примечание в начале страницы. Существуют некоторые ограничения; на одних устройствах больше, на других меньше.</p><hr class="dim"><p id="faq3" class="high-bottom"><b>Почему WhatsRunning требует разрешение INTERNET?</b></p><p>Автономная <a href="https://mirfatif.github.io/mirfatif/getpro">Pro</a> версия требует подключения к Интернету для проверки лицензии. Две другие <a href="#versions">версии</a> — бесплатная и Pro из Play Маркет могут работать полностью в автономном режиме. Хотя приложению Play Маркет для проверки лицензии требуется подключение к Интернету.</p><p><b>Необязательное использование</b> разрешения <code>android.permission.INTERNET</code>:</p><ul><li>Проверка обновления приложения. Вы можете отключить это в настройках.</li><li>Получить содержимое справки этой веб-страницы, которую вы просматриваете в выдвижном меню-> Справка.</li></ul><p><b>Локальное (на устройстве) использование</b> разрешения <code>android.permission.INTERNET</code>:</p><p>Android не позволяет приложениям создавать сетевые сокеты без разрешения <a href="https://developer.android.com/reference/android/Manifest.permission#INTERNET">INTERNET</a>, даже если они предназначены только для локального использования, а не для подключения к Интернету. WhatsRunning имеет два варианта использования локальных соединений (на устройстве) (возможность создания сокетов <code>localhost</code> по адресу <code>127.0.0.1</code>) для межпроцессного взаимодействия (IPC):</p><ul><li>WhatsRunning запускает фоновый процесс с привилегиями root/ADB и общается с этим процессом через сетевой сокет. После первоначального "рукопожатия" оба процесса начинают обмен данными через binder. У нас нет лучшего способа сделать это, потому что Android также не позволяет приложениям общаться через сокеты домена UNIX.</li><li>Если ваше устройство не имеет root-прав и вы <a href="#adb-help">используете WhatsRunning с ADB</a>, то для подключения к <code>adbd</code> требуются разрешения интернет. Смотрите <a href="https://mirfatif.github.io/PermissionManagerX/help/en/#faq27">Шпионит ли РМХ за мной, используя ADB по сети?</a>.</li></ul><p>Поэтому, если приложение не может создавать или использовать сокеты локальной сети, оно не будет работать. И если вы хотите запретить WhatsRunning использовать Интернет, это не должно мешать приложению общаться с процессами на устройстве через <a href="https://superuser.com/questions/263142">loopback интерфейс для IPC</a>. Обычно это происходит с брандмауэрами на основе <code>iptables</code>, такими как AFWall+, и брандмауэрами на основе VPN, такими как NetGuard. Но некоторые прошивки имеют встроенную возможность запретить доступ к сети:</p><img alt="Разрешить доступ к сети" class="small" src="../en/img/allow_network_access.webp"><p>Это не только запрещает приложению использовать Интернет, но и отключает его возможность создавать петлевые (loopback) сокеты для IPC. Таким образом, WhatsRunning не сможет получить привилегии root / ADB, если в этом разрешении будет отказано.</p><hr class="dim"><p id="faq4" class="high-bottom"><b>Насколько WhatsRunning безопасен для конфиденциальности?</b></p><p>Мы не интересуемся ни вами, ни вашим устройством. Мы не следим за вами. Мы ни в коем случае не собираем ваши данные, даже логи сбоев. Мы верим в то, что наши пользователи образованы, хорошо проинформированы и несут ответственность за свою конфиденциальность. WhatsRunning помогает защитить вашу конфиденциальность.</p><p>Вы также можете посмотреть нашу <a href="https://mirfatif.github.io/WhatsRunning/PRIVACY.html">Политику конфиденциальности</a>.</p><hr class="dim"><p id="faq6" class="high-bottom"><b>Что такое «Активити / Службы сироты?</b></p><p>Когда приложение работает в фоновом режиме и не используется активно, Android может завершить его родной процесс на любом этапе, для экономии оперативной памяти или для сохранения других ресурсов. Но его АКТИВИТИ (видимая часть) и СЛУЖБЫ могут по-прежнему храниться в записи, чтобы продолжить работу на более позднем этапе. Такие компоненты помечены как "сироты" в WhatsRunning.</p><hr class="dim"><p id="faq5" class="high-bottom"><b>В чем разница между пунктами "Использование ЦП" и "Влияние на ЦП" в сортировке?</b></p><p><i>Влияние на ЦП</i> — это просто время, которое процесс тратит на использование ЦП. <i>Использование ЦП</i> - это отношение процессорного времени к возрасту процесса.</p><p>Подробнее см. <code>utime</code>, <code>stime</code> и <code>starttime</code> поля под <code>/proc/[PID]/stat</code> в <a href="https://man7.org/linux/man-pages/man5/proc.5.html">proc(5)</a>.</p><img alt="WhatsRunning меню" class="medium" src="../en/img/sort_by_cpu.webp"><p>Таким образом, процессы с высокой загрузкой ЦП и длительным сроком работы службы или процессы с высокой загрузкой ЦП и коротким сроком работы службы следует рассматривать как пожиратели батареи.</p><p>Это всего лишь два разных способа анализа и выявления виновных.</p><hr class="dim"><p id="faq8" class="high-bottom"><b>Что показывают цифры ввод/вывод в подробностях процесса?</b></p><img alt="App IO usage" class="medium" src="../en/img/app_io_usage.webp"><p>Пожалуйста, ознакомьтесь с <a href="https://mirfatif.github.io/IAnswers/android_app_kill_flash_storage">Какое Android-приложение убивает флэш-память?</a></p><hr class="dim"><p id="faq7" class="high-bottom"><b>Почему я вижу всплывающее уведомление «Процесс не существует»?</b></p><img alt="Предупреждение об убитом процессе WhatsRunning" class="medium" src="../en/img/proc_not_exists.webp"><p>Это означает, что выбранный вами процесс, приложение или его компонент в данный момент не работают или отфильтрованы с помощью ( <a href="#filter-sort-search">Фильтра процессов</a>).</p></div><div class="card"><h2 id="download">Загрузки / Скриншоты</h2><p>Пожалуйста, посетите Github <a href="https://mirfatif.github.io/WhatsRunning">README</a>.</p><hr><h2 id="rate-review-help">Рейтинги / Обзоры / Комментарии / Голоса / Звезды</h2><p>Play Маркет <a href="https://play.google.com/store/apps/details?id=com.mirfatif.whatsrunning.ps.pro">Pro версия</a> &bull; <a href="https://play.google.com/store/apps/details?id=com.mirfatif.whatsrunning.ps">Бесплатная версия</a></p><p><a href="https://apkpure.com/whatsrunning/com.mirfatif.whatsrunning">APKPure</a> &bull; <a href="https://whatsrunning-demo.en.uptodown.com">UpToDown</a> &bull; <a href="https://forum.xda-developers.com/t/app-7-0-whatsrunning-know-whats-running-on-your-device.4386093">XDA</a> &bull; <a href="https://www.producthunt.com/posts/whatsrunning">ProductHunt</a></p><p><a href="https://github.com/mirfatif/WhatsRunning">Github</a> &bull; <a href="https://androidforums.com/threads/app-7-0-whatsrunning-know-whats-running-on-your-android-device.1342513">AndroidForums</a> &bull; <a href="https://news.ycombinator.com/item?id=32220301">HackerNews</a></p><hr><h2 id="contact-us">У Вас есть еще вопросы?</h2><p>Пожалуйста, ознакомьтесь с <a href="https://mirfatif.github.io/IAnswers">Больше FAQs</a>. Или <a href="https://mirfatif.github.io/WhatsRunning/#want-to-reach-us">свяжитесь с нами</a> по электронной почте или в Telegram.</p></div></div></body></html>